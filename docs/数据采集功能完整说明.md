# æ•°æ®é‡‡é›†åŠŸèƒ½å®Œæ•´è¯´æ˜

## ğŸ“‹ å·²å®ç°çš„åŠŸèƒ½

### âœ… 1. å­¦ç”Ÿèº«ä»½è¯†åˆ«
- **å­¦å·è¾“å…¥**ï¼šåº”ç”¨å¯åŠ¨æ—¶å¼¹å‡ºå¯¹è¯æ¡†è®©å­¦ç”Ÿè¾“å…¥å­¦å·/å§“å
- **è‡ªåŠ¨ä¿å­˜**ï¼šå­¦å·ä¿å­˜åˆ° `data/student_id.json`ï¼Œä¸‹æ¬¡å¯åŠ¨è‡ªåŠ¨ä½¿ç”¨
- **å­¦å·å˜æ›´ç¡®è®¤**ï¼šå¦‚æœè¾“å…¥ä¸åŒçš„å­¦å·ï¼Œä¼šå¼¹å‡ºè­¦å‘Šç¡®è®¤å¯¹è¯æ¡†
- **æ‰‹åŠ¨ä¿®æ”¹**ï¼šèœå•æ  **é€‰é¡¹ â†’ ä¿®æ”¹å­¦å·** å¯ä»¥éšæ—¶ä¿®æ”¹

### âœ… 2. ä»£ç ç¼–è¾‘å™¨è¡Œä¸ºé‡‡é›†

#### ä»£ç ç¼–å†™ (CP)
- è®°å½•å…‰æ ‡ä½ç½®ï¼ˆè¡Œå·ã€åˆ—å·ï¼‰
- è®°å½•ä»£ç é•¿åº¦å’Œè¡Œæ•°
- é˜²æŠ–æœºåˆ¶ï¼šæ¯5ç§’æœ€å¤šè®°å½•ä¸€æ¬¡

#### ä»£ç è¿è¡Œ (CR)
- è®°å½•è¿è¡Œæ—¶é—´ç‚¹
- è®°å½•ä»£ç ä½ç½®ï¼ˆèµ·å§‹è¡Œ-ç»“æŸè¡Œï¼‰
- è®°å½•æ‰§è¡Œç»“æœï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
- è®°å½•æ‰§è¡Œæ—¶é—´
- è®°å½•é”™è¯¯è¡Œå·ï¼ˆå¦‚æœå¤±è´¥ï¼‰

#### è°ƒè¯•æ–­ç‚¹ (DP)
- è®°å½•æ–­ç‚¹è®¾ç½®/å–æ¶ˆçš„è¡Œå·
- è®°å½•æ“ä½œæ—¶é—´ç‚¹

#### å¤åˆ¶ä»£ç  (CC)
- è®°å½•å¤åˆ¶ä½ç½®ï¼ˆèµ·å§‹è¡Œ-ç»“æŸè¡Œï¼‰
- è®°å½•å†…å®¹é•¿åº¦
- è®°å½•æ¥æºï¼ˆç¼–è¾‘å™¨ï¼‰

#### ç²˜è´´ä»£ç  (PC)
- è®°å½•ç²˜è´´ä½ç½®ï¼ˆè¡Œå·ã€åˆ—å·ï¼‰
- è®°å½•å†…å®¹é•¿åº¦
- è®°å½•æ¥æºï¼ˆå‰ªè´´æ¿/AIï¼‰

#### ä»£ç æŸ¥çœ‹ (VC)
- è®°å½•é¼ æ ‡æ‚¬åœçš„è¡Œå·
- è®°å½•æŸ¥çœ‹æŒç»­æ—¶é—´ï¼ˆè¶…è¿‡1ç§’æ‰è®°å½•ï¼‰

### âœ… 3. AIåŠ©æ‰‹è¡Œä¸ºé‡‡é›†

#### AIæé—® (ANQ)
- è®°å½•æé—®æ—¶é—´
- è®°å½•é—®é¢˜é•¿åº¦
- è®°å½•é—®é¢˜ç±»å‹

#### æŸ¥çœ‹AIå›å¤ (RF)
- è®°å½•å›å¤é•¿åº¦
- è®°å½•æŸ¥çœ‹æ—¶é—´

#### å¤åˆ¶AIä»£ç  (CAC)
- è®°å½•å¤åˆ¶çš„å†…å®¹é•¿åº¦
- è®°å½•å†…å®¹é¢„è§ˆ

#### åœ¨èŠå¤©åŒºçš„æ—¶é—´ (AC)
- è®°å½•è¿›å…¥èŠå¤©åŒºçš„æ—¶é—´
- è®°å½•ç¦»å¼€èŠå¤©åŒºçš„æ—¶é—´
- è®°å½•æ€»åœç•™æ—¶é—´

### âœ… 4. æ§åˆ¶å°è¡Œä¸ºé‡‡é›†

#### æŸ¥çœ‹é”™è¯¯ (VE)
- è®°å½•é”™è¯¯ç±»å‹ï¼ˆSyntaxErrorã€IndentationErrorç­‰ï¼‰
- è®°å½•é”™è¯¯è¡Œå·
- è®°å½•é”™è¯¯ä¿¡æ¯
- è®°å½•æŸ¥çœ‹æ—¶é—´

#### æŸ¥çœ‹è¾“å‡º (VO)
- è®°å½•è¾“å‡ºç±»å‹
- è®°å½•è¾“å‡ºé•¿åº¦
- è®°å½•æŸ¥çœ‹æ—¶é—´

#### é˜…è¯»æ¶ˆæ¯ (RCM)
- è®°å½•æ¶ˆæ¯ç±»å‹ï¼ˆè­¦å‘Š/ä¿¡æ¯ï¼‰
- è®°å½•æ¶ˆæ¯é•¿åº¦

---

## ğŸ“Š æ•°æ®å­—æ®µè¯´æ˜

### learning_behaviors è¡¨
- `user_id`: å­¦ç”Ÿå­¦å·/å§“å
- `behavior_code`: è¡Œä¸ºç¼–ç ï¼ˆCPã€CRã€DPç­‰ï¼‰
- `timestamp`: è¡Œä¸ºå‘ç”Ÿæ—¶é—´
- `duration`: è¡Œä¸ºæŒç»­æ—¶é—´ï¼ˆç§’ï¼‰
- `additional_data`: JSONæ ¼å¼çš„é¢å¤–æ•°æ®ï¼ŒåŒ…å«ï¼š
  - `line_number`: è¡Œå·
  - `column_number`: åˆ—å·
  - `code_range`: ä»£ç èŒƒå›´ï¼ˆå¦‚"10-15"ï¼‰
  - `start_line`: èµ·å§‹è¡Œ
  - `end_line`: ç»“æŸè¡Œ
  - `content_length`: å†…å®¹é•¿åº¦
  - `source`: æ¥æºï¼ˆeditor/ai/clipboardï¼‰
  - `target`: ç›®æ ‡ï¼ˆeditor/aiï¼‰
  - `timestamp`: æ—¶é—´æˆ³

### code_operations è¡¨
- `user_id`: å­¦ç”Ÿå­¦å·/å§“å
- `operation_type`: æ“ä½œç±»å‹ï¼ˆrun/debug/editï¼‰
- `code_length`: ä»£ç é•¿åº¦
- `line_count`: ä»£ç è¡Œæ•°
- `success`: æ˜¯å¦æˆåŠŸ
- `error_message`: é”™è¯¯ä¿¡æ¯
- `execution_time`: æ‰§è¡Œæ—¶é—´ï¼ˆç§’ï¼‰
- `additional_data`: JSONæ ¼å¼çš„é¢å¤–æ•°æ®ï¼ŒåŒ…å«ï¼š
  - `start_line`: èµ·å§‹è¡Œ
  - `end_line`: ç»“æŸè¡Œ
  - `code_range`: ä»£ç èŒƒå›´
  - `error_line`: é”™è¯¯è¡Œå·
  - `timestamp`: æ—¶é—´æˆ³

### ai_interactions è¡¨
- `user_id`: å­¦ç”Ÿå­¦å·/å§“å
- `interaction_type`: äº¤äº’ç±»å‹ï¼ˆask_question/read_feedbackï¼‰
- `question_length`: é—®é¢˜é•¿åº¦
- `response_length`: å›å¤é•¿åº¦
- `response_time`: å“åº”æ—¶é—´ï¼ˆç§’ï¼‰
- `additional_data`: JSONæ ¼å¼çš„é¢å¤–æ•°æ®ï¼ŒåŒ…å«ï¼š
  - `question_type`: é—®é¢˜ç±»å‹
  - `question_length`: é—®é¢˜é•¿åº¦
  - `response_length`: å›å¤é•¿åº¦
  - `view_timestamp`: æŸ¥çœ‹æ—¶é—´
  - `timestamp`: æ—¶é—´æˆ³

### error_analysis è¡¨
- `user_id`: å­¦ç”Ÿå­¦å·/å§“å
- `error_type`: é”™è¯¯ç±»å‹
- `error_line`: é”™è¯¯è¡Œå·
- `error_message`: é”™è¯¯ä¿¡æ¯
- `fix_attempts`: ä¿®å¤å°è¯•æ¬¡æ•°
- `fix_success`: æ˜¯å¦ä¿®å¤æˆåŠŸ
- `additional_data`: JSONæ ¼å¼çš„é¢å¤–æ•°æ®

---

## ğŸ” æ•°æ®æŸ¥è¯¢ç¤ºä¾‹

### æŸ¥è¯¢æŸä¸ªå­¦ç”Ÿçš„æ‰€æœ‰è¡Œä¸º
```sql
SELECT * FROM learning_behaviors 
WHERE user_id = '2021001' 
ORDER BY timestamp DESC;
```

### æŸ¥è¯¢ä»£ç è¿è¡Œè®°å½•ï¼ˆå¸¦ä½ç½®ä¿¡æ¯ï¼‰
```sql
SELECT 
    user_id,
    operation_type,
    json_extract(additional_data, '$.start_line') as start_line,
    json_extract(additional_data, '$.end_line') as end_line,
    json_extract(additional_data, '$.code_range') as code_range,
    success,
    execution_time,
    timestamp
FROM code_operations
WHERE operation_type = 'run'
ORDER BY timestamp DESC;
```

### æŸ¥è¯¢å¤åˆ¶ç²˜è´´æ“ä½œ
```sql
SELECT 
    user_id,
    behavior_code,
    json_extract(additional_data, '$.source') as source,
    json_extract(additional_data, '$.target') as target,
    json_extract(additional_data, '$.line_number') as line_number,
    json_extract(additional_data, '$.content_length') as content_length,
    timestamp
FROM learning_behaviors
WHERE behavior_code IN ('CC', 'PC', 'CAC')
ORDER BY timestamp DESC;
```

### æŸ¥è¯¢AIäº¤äº’æ—¶é—´
```sql
SELECT 
    user_id,
    behavior_code,
    duration,
    json_extract(additional_data, '$.action') as action,
    json_extract(additional_data, '$.total_time') as total_time,
    timestamp
FROM learning_behaviors
WHERE behavior_code = 'AC'
ORDER BY timestamp DESC;
```

### æŸ¥è¯¢é”™è¯¯æŸ¥çœ‹è®°å½•
```sql
SELECT 
    user_id,
    behavior_code,
    json_extract(additional_data, '$.error_type') as error_type,
    json_extract(additional_data, '$.error_line') as error_line,
    json_extract(additional_data, '$.error_message') as error_message,
    timestamp
FROM learning_behaviors
WHERE behavior_code = 'VE'
ORDER BY timestamp DESC;
```

---

## ğŸ“ è¡Œä¸ºç¼–ç è¡¨

| ç¼–ç  | åç§° | ç±»åˆ« | è¯´æ˜ |
|------|------|------|------|
| CP | Coding in Python | ç¼–è¾‘ä»£ç  | ä»£ç ç¼–å†™ |
| CR | Code Run | è¿è¡Œä»£ç  | ä»£ç è¿è¡Œ |
| DP | Debugging in Python | è°ƒè¯• | è°ƒè¯•æ–­ç‚¹ |
| CC | Copy Code | å¤åˆ¶ä»£ç  | å¤åˆ¶ä»£ç  |
| PC | Paste Code | ç²˜è´´ä»£ç  | ç²˜è´´ä»£ç  |
| VC | Viewing Code | æŸ¥çœ‹ä»£ç  | ä»£ç æŸ¥çœ‹ï¼ˆé¼ æ ‡æ‚¬åœï¼‰ |
| VE | Viewing Error | æŸ¥çœ‹é”™è¯¯ | æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ |
| VO | Viewing Output | æŸ¥çœ‹è¾“å‡º | æŸ¥çœ‹è¾“å‡ºä¿¡æ¯ |
| ANQ | Asking New Questions | AIè¾…åŠ©ç¼–ç¨‹ | AIæé—® |
| CAC | Copy AI Code | å¤åˆ¶AIä»£ç  | ä»AIå¤åˆ¶ä»£ç  |
| AC | AI Chat Area | AIäº¤äº’ | åœ¨èŠå¤©åŒºçš„æ—¶é—´ |
| RCM | Reading Console Message | é˜…è¯»ä¿¡æ¯ | é˜…è¯»æ§åˆ¶å°æ¶ˆæ¯ |

---

## ğŸ¯ æ•°æ®é‡‡é›†è¦†ç›–èŒƒå›´

### âœ… å·²å®ç°
- âœ… ä»£ç ç¼–å†™ä½ç½®ï¼ˆè¡Œå·ã€åˆ—å·ï¼‰
- âœ… ä»£ç è¿è¡Œä½ç½®ï¼ˆèµ·å§‹è¡Œ-ç»“æŸè¡Œï¼‰
- âœ… è°ƒè¯•æ–­ç‚¹ä½ç½®ï¼ˆè¡Œå·ï¼‰
- âœ… å¤åˆ¶ç²˜è´´ä½ç½®ï¼ˆè¡Œå·ã€åˆ—å·ï¼‰
- âœ… ä»£ç æŸ¥çœ‹ä½ç½®ï¼ˆè¡Œå·ï¼‰
- âœ… AIäº¤äº’æ—¶é—´ï¼ˆè¿›å…¥/ç¦»å¼€æ—¶é—´ï¼‰
- âœ… å¤åˆ¶AIä»£ç 
- âœ… é”™è¯¯æŸ¥çœ‹ï¼ˆé”™è¯¯ç±»å‹ã€é”™è¯¯è¡Œå·ï¼‰
- âœ… è¾“å‡ºæŸ¥çœ‹

### â³ å¾…å®ç°ï¼ˆå¯é€‰ï¼‰
- â³ èœå•ä½¿ç”¨è®°å½•
- â³ æ–‡ä»¶æ“ä½œè®°å½•ï¼ˆæ‰“å¼€/ä¿å­˜æ–‡ä»¶ï¼‰
- â³ è°ƒè¯•æ­¥éª¤è®°å½•ï¼ˆstep over/into/outï¼‰

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### å¯¹å­¦ç”Ÿ
1. **ä¿æŒå­¦å·ä¸€è‡´**ï¼šå»ºè®®æ¯æ¬¡ä½¿ç”¨ç›¸åŒçš„å­¦å·
2. **æ­£å¸¸ä½¿ç”¨**ï¼šæ‰€æœ‰è¡Œä¸ºä¼šè‡ªåŠ¨è®°å½•ï¼Œæ— éœ€é¢å¤–æ“ä½œ

### å¯¹æ•™å¸ˆ
1. **æŸ¥çœ‹æ•°æ®**ï¼šä½¿ç”¨ `python backend\view_data.py` æŸ¥çœ‹ç»Ÿè®¡æ•°æ®
2. **è¯¦ç»†æŸ¥è¯¢**ï¼šä½¿ç”¨SQLæŸ¥è¯¢ `additional_data` JSONå­—æ®µè·å–è¯¦ç»†ä¿¡æ¯
3. **æ•°æ®åˆ†æ**ï¼šå¯ä»¥å¯¼å‡ºæ•°æ®åˆ°Excelæˆ–ä½¿ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æ

---

## ğŸ”§ æŠ€æœ¯å®ç°

### æ•°æ®é‡‡é›†æ–¹å¼
- **å¼‚æ­¥é‡‡é›†**ï¼šæ‰€æœ‰æ•°æ®é‡‡é›†éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä¸å½±å“åº”ç”¨æ€§èƒ½
- **é˜²æŠ–æœºåˆ¶**ï¼šä»£ç ç¼–å†™è¡Œä¸ºä½¿ç”¨é˜²æŠ–ï¼Œé¿å…é¢‘ç¹è®°å½•
- **JSONå­˜å‚¨**ï¼šè¯¦ç»†æ•°æ®å­˜å‚¨åœ¨ `additional_data` JSONå­—æ®µä¸­

### æ•°æ®å­˜å‚¨
- **æœ¬åœ°å­˜å‚¨**ï¼šSQLiteæ•°æ®åº“ `data/learning_analytics.db`
- **äº‘ç«¯ä¸ŠæŠ¥**ï¼šå¯é€‰ï¼Œæ•°æ®ä¼šä¸ŠæŠ¥åˆ°äº‘ç«¯æœåŠ¡å™¨
- **æ—¥å¿—è®°å½•**ï¼šæ‰€æœ‰æ“ä½œéƒ½ä¼šè®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ `logs/analytics_*.log`

---

## ğŸ“Š æ•°æ®ç¤ºä¾‹

### ä»£ç è¿è¡Œè®°å½•ç¤ºä¾‹
```json
{
  "start_line": 10,
  "end_line": 15,
  "code_range": "10-15",
  "timestamp": 1700000000.0
}
```

### å¤åˆ¶ç²˜è´´è®°å½•ç¤ºä¾‹
```json
{
  "source": "editor",
  "target": "editor",
  "start_line": 5,
  "end_line": 8,
  "line_number": 10,
  "column_number": 0,
  "content_length": 150
}
```

### AIäº¤äº’è®°å½•ç¤ºä¾‹
```json
{
  "action": "enter",
  "timestamp": 1700000000.0,
  "total_time": 120.5
}
```

---

## âœ… æ€»ç»“

ç°åœ¨ç³»ç»Ÿå·²ç»å¯ä»¥é‡‡é›†ä»¥ä¸‹è¯¦ç»†æ•°æ®ï¼š
1. âœ… **ä»£ç ç¼–å†™**ï¼šä½ç½®ã€é•¿åº¦ã€è¡Œæ•°
2. âœ… **ä»£ç è¿è¡Œ**ï¼šä½ç½®ã€æ—¶é—´ã€ç»“æœ
3. âœ… **è°ƒè¯•æ“ä½œ**ï¼šæ–­ç‚¹ä½ç½®ã€æ“ä½œæ—¶é—´
4. âœ… **å¤åˆ¶ç²˜è´´**ï¼šä½ç½®ã€æ¥æºã€ç›®æ ‡
5. âœ… **ä»£ç æŸ¥çœ‹**ï¼šè¡Œå·ã€æŸ¥çœ‹æ—¶é—´
6. âœ… **AIäº¤äº’**ï¼šæé—®ã€å›å¤ã€åœ¨èŠå¤©åŒºçš„æ—¶é—´
7. âœ… **é”™è¯¯æŸ¥çœ‹**ï¼šé”™è¯¯ç±»å‹ã€é”™è¯¯è¡Œå·ã€æŸ¥çœ‹æ—¶é—´
8. âœ… **è¾“å‡ºæŸ¥çœ‹**ï¼šè¾“å‡ºç±»å‹ã€æŸ¥çœ‹æ—¶é—´

**æ‰€æœ‰æ•°æ®éƒ½å…³è”åˆ°å­¦ç”Ÿå­¦å·ï¼Œä¾¿äºæ•™å¸ˆåˆ†æï¼**




