# æ•°æ®é‡‡é›†æ‰©å±•å®æ–½æŒ‡å—

## âœ… å·²å®Œæˆçš„ä¿®å¤

### 1. ä¿®å¤ user_id æ˜¾ç¤ºä¸º "unknown" çš„é—®é¢˜
- âœ… ä¿®æ”¹äº† `core/sqlite_analytics.py` çš„ `log_behavior` æ–¹æ³•
- âœ… ç°åœ¨ä¼šä» `user_sessions` è¡¨ä¸­è·å– `user_id` å¹¶æ­£ç¡®æ’å…¥åˆ° `learning_behaviors` è¡¨

### 2. æ·»åŠ å­¦ç”ŸIDè¾“å…¥åŠŸèƒ½
- âœ… åˆ›å»ºäº† `core/student_id_manager.py` å­¦ç”ŸIDç®¡ç†å™¨
- âœ… åº”ç”¨å¯åŠ¨æ—¶ä¼šå¼¹å‡ºå¯¹è¯æ¡†è®©å­¦ç”Ÿè¾“å…¥å­¦å·/å§“å
- âœ… å­¦ç”ŸIDä¿å­˜åˆ° `data/student_id.json`
- âœ… ä¿®æ”¹äº† `main.py` åœ¨å¯åŠ¨æ—¶è·å–å­¦ç”ŸID
- âœ… ä¿®æ”¹äº† `sqlite_integration.py` ä½¿ç”¨å­¦ç”ŸIDå¯åŠ¨ä¼šè¯

---

## ğŸ“‚ æ•°æ®åº“ç»“æ„ä¸å…³é”®å­—æ®µ

| è¡¨å | ç”¨é€” | å…³é”®å­—æ®µ | è¯´æ˜ |
| --- | --- | --- | --- |
| `user_sessions` | è®°å½•å­¦ç”Ÿæ¯æ¬¡å¯åŠ¨/å…³é—­è½¯ä»¶çš„ä¼šè¯ | `session_id`ã€`user_id`ã€`start_time`ã€`end_time`ã€`total_activities`ã€`platform` | æ‰€æœ‰è¡Œä¸ºéƒ½ä¼šé€šè¿‡ `session_id` å…³è”åˆ°å…·ä½“ä¼šè¯ |
| `learning_behaviors` | ç»†ç²’åº¦è¡Œä¸ºæ—¥å¿— | `behavior_code`ã€`activity_name`ã€`category`ã€`timestamp`ã€`duration`ã€`additional_data` | â€œè¡Œä¸ºç¼–ç â€éƒ½å†™åˆ°è¿™é‡Œï¼Œ`additional_data` æ˜¯ JSONï¼Œä¿å­˜è¡Œå·/ä»£ç èŒƒå›´/å†…å®¹é•¿åº¦/æ¥æº/ç›®æ ‡/é—®é¢˜é¢„è§ˆç­‰ |
| `code_operations` | è¿è¡Œä¸è°ƒè¯•è®°å½• | `operation_type`ã€`code_length`ã€`line_count`ã€`success`ã€`error_message`ã€`execution_time`ã€`additional_data` | è¿è¡Œä»£ç ã€è°ƒè¯•ï¼ˆStep Into/Over/Outï¼‰éƒ½ä¼šå†™å…¥ï¼Œ`additional_data` å­˜ `start_line~end_line`ã€`error_line` |
| `ai_interactions` | AI å¯¹è¯äº‹ä»¶ | `interaction_type`ã€`question_length`ã€`response_length`ã€`response_time`ã€`feedback_quality`ã€`additional_data` | â€œæé—®â€â€œé˜…è¯»åé¦ˆâ€â€œå¤åˆ¶ AI å†…å®¹â€ç­‰éƒ½ä¼šè®°å½• |
| `error_analysis` | é”™è¯¯åˆ†æ | `error_type`ã€`error_line`ã€`error_message`ã€`fix_attempts`ã€`fix_success`ã€`additional_data` | ç”±ä»£ç æ‰§è¡Œå™¨è§£æ Tracebackï¼Œæœªæ¥å¯æ‰©å±•â€œä¿®å¤æ–¹æ¡ˆ/ä»£ç ç‰‡æ®µâ€ |

> `additional_data` å‡ä¸º JSONï¼Œå¯æ ¹æ®éœ€è¦ç»§ç»­æ‰©å±•ã€‚ç›®å‰å·²å†™å…¥çš„é”®åŒ…æ‹¬ï¼š`cursor_line`ã€`cursor_column`ã€`start_line`ã€`end_line`ã€`code_range`ã€`content_length`ã€`source`ã€`target`ã€`question_preview`ã€`response_preview`ã€`idle_seconds` ç­‰ã€‚

## ğŸ§  è¡Œä¸ºç¼–ç æ€»è§ˆï¼ˆå½“å‰ â‰¥ 20 ç§ï¼‰

| ç¼–ç  | ä¸­æ–‡åç§° | ç±»åˆ« | è§¦å‘åœºæ™¯ / é™„å¸¦å­—æ®µ |
| --- | --- | --- | --- |
| `UT` | æŸ¥çœ‹ä»»åŠ¡ | èµ„æº | æ‰“å¼€ä»»åŠ¡è¯´æ˜çª—å£ |
| `RAM` | æŸ¥çœ‹èµ„æ–™ | èµ„æº | æµè§ˆæ•™å¸ˆæä¾›çš„å‚è€ƒèµ„æ–™ |
| `CP` | ç¼–å†™ä»£ç  | ç¼–è¾‘ä»£ç  | é”®å…¥/ä¿®æ”¹ï¼ˆ5 ç§’é˜²æŠ–ï¼‰ï¼š`cursor_line/column`ã€`code_length`ã€`line_count`ã€`edit_type` |
| `SC` | é€‰ä¸­ä»£ç  | ç¼–è¾‘ä»£ç  | ç¼–è¾‘å™¨å‡ºç°é€‰åŒºï¼ˆ2 ç§’é˜²æŠ–ï¼‰ï¼š`start_line`ã€`end_line`ã€`content_length`ã€`line_count` |
| `CC` | å¤åˆ¶ä»£ç  | ç¼–è¾‘ä»£ç  | ç¼–è¾‘å™¨ Ctrl+C/å³é”®å¤åˆ¶ï¼šè®°å½•è¡ŒèŒƒå›´ã€å†…å®¹é•¿åº¦ï¼Œå¹¶æ ‡è®°å‰ªè´´æ¿æ¥æºä¸º `editor` |
| `PC` | ç²˜è´´ä»£ç  | ç¼–è¾‘ä»£ç  | ç¼–è¾‘å™¨ç²˜è´´ï¼š`line_number`ã€`column_number`ã€`source`ï¼ˆeditor/console/ai/unknownï¼‰ã€`content_length` |
| `NF` | æ–°å»ºæ–‡ä»¶ | æ–‡ä»¶æ“ä½œ | è°ƒç”¨ `FileManager.new_file` æˆåŠŸåè®°å½• |
| `OF` | æ‰“å¼€æ–‡ä»¶ | æ–‡ä»¶æ“ä½œ | `filename`ã€`path`ã€`size`ã€`modified`ã€`created` |
| `SV` | ä¿å­˜æ–‡ä»¶ | æ–‡ä»¶æ“ä½œ | åŒä¸Šï¼Œä¿å­˜è·¯å¾„ä¸å˜ |
| `SA` | å¦å­˜ä¸º | æ–‡ä»¶æ“ä½œ | åŒä¸Šï¼Œè®°å½•æ–°çš„æ–‡ä»¶å/è·¯å¾„ |
| `CR` | è¿è¡Œä»£ç  | è¿è¡Œ/è°ƒè¯• | è¿è¡Œå‰è®°å½• `start_line~end_line`ã€`code_range`ï¼›è¿è¡Œç»“æœå†™å…¥ `code_operations` |
| `DP` | è°ƒè¯•è¡Œä¸º | è¿è¡Œ/è°ƒè¯• | åŒ…æ‹¬æ–­ç‚¹è®¾ç½®ã€è°ƒè¯•è¡Œæ¨è¿›ã€å‘½ä¸­æ–­ç‚¹ç­‰ï¼ˆ`current_line`ã€`breakpoint_hit`ã€å±€éƒ¨å˜é‡æ•°é‡ï¼‰ |
| `UPC` | æµè§ˆä»£ç  | ç†è§£ä»£ç  | é¼ æ ‡åœ¨ä»£ç åŒºåŸŸç§»åŠ¨ï¼ˆé…åˆ `VC` ä½¿ç”¨ï¼‰ |
| `VC` | æŸ¥çœ‹ä»£ç ï¼ˆåœç•™ï¼‰ | ç†è§£ä»£ç  | æŸè¡Œåœç•™ >1sï¼š`line_number`ã€`duration` |
| `CRC` | æ£€æŸ¥ç»“æœ/å›¾è¡¨ | æ£€æŸ¥è¾“å‡º | æ§åˆ¶å°æˆ–å›¾è¡¨åŒºåŸŸè¢«æŸ¥çœ‹ |
| `RCM` | é˜…è¯»/å¤åˆ¶æ§åˆ¶å°æ¶ˆæ¯ | é˜…è¯»ä¿¡æ¯ | åŒ…æ‹¬è­¦å‘Š/æç¤ºï¼Œä»¥åŠâ€œåœ¨æ§åˆ¶å°å³é”®å¤åˆ¶â€ï¼š`message_type`ã€`message_length`ã€`source:'console'` |
| `VE` | æŸ¥çœ‹é”™è¯¯ | æ§åˆ¶å° | æ§åˆ¶å°å‡ºç° â€œError/é”™è¯¯â€ è¡Œï¼š`error_type`ã€`error_line`ã€`error_message` |
| `VO` | æŸ¥çœ‹è¾“å‡º | æ§åˆ¶å° | æ™®é€šè¾“å‡ºï¼š`output_length`ã€`view_timestamp` |
| `ANQ` | å‘ AI æé—® | AI è¾…åŠ© | ç‚¹å‡»â€œå‘é€â€/Ctrl+Enterï¼š`question_length`ã€`question_type` |
| `PPC` | åœ¨ AI ç²˜è´´ä»£ç  | AI è¾…åŠ© | AI è¾“å…¥æ¡†ç²˜è´´ä¸”å‰ªè´´æ¿æ¥æºä¸º `editor`ï¼ˆæˆ–æœªçŸ¥ï¼‰ï¼›è®°å½• `source`ã€`content_length`ã€`preview` |
| `PCM` | åœ¨ AI ç²˜è´´æŠ¥é”™ | AI è¾…åŠ© | AI è¾“å…¥æ¡†ç²˜è´´ä¸”å‰ªè´´æ¿æ¥æºä¸º `console`ï¼›è®°å½• `content_preview` |
| `CAC` | å¤åˆ¶ AI å†…å®¹ | AI è¾…åŠ© | å¯¹è¯åŒº Ctrl+Cï¼š`content_length`ã€`content_preview`ï¼Œå‰ªè´´æ¿æ¥æº `ai` |
| `CPC` | ä» AI ç²˜è´´åˆ°ç¼–è¾‘å™¨ | AI è¾…åŠ© | ç¼–è¾‘å™¨ç²˜è´´ä¸”æ¥æº `ai`ï¼šé¢å¤–è®°å½• `CPC` è¡Œä¸º |
| `RF` | é˜…è¯» AI å›å¤ | AI è¾…åŠ© | æ¯æ¬¡ `add_assistant_message`ï¼š`response_length`ã€`view_timestamp` |
| `AC` | åœ¨ AI åŒºåœç•™ | AI äº¤äº’ | `FocusIn/Out`ï¼šè®°å½•è¿›å…¥/ç¦»å¼€ä¸åœç•™æ—¶é—´ |
| `SAI` | é€‰ä¸­ AI æ–‡æœ¬ | AI äº¤äº’ | å¯¹è¯åŒºé€‰åŒºï¼ˆ2 ç§’é˜²æŠ–ï¼‰ï¼šè®°å½•ä½ç½®ä¸é•¿åº¦ |
| `FC` | ChatGPT å¤±è´¥ | å…¶ä»– | AI è¯·æ±‚å¤±è´¥æˆ–äº‘ç«¯ä¸ŠæŠ¥å¤±è´¥ï¼š`stage` (`ai_client` / `cloud_behavior` / `cloud_ai`) + `error` |
| `IO` | ç©ºé—²çŠ¶æ€ | å…¶ä»– | è‡ªåŠ¨æ£€æµ‹ 60 ç§’æ— å¯è§æ“ä½œï¼š`idle_seconds` |

> ä¸Šè¡¨å‡å†™å…¥ `learning_behaviors.behavior_code`ï¼Œå¹¶åœ¨ `additional_data` ä¸­é™„å¸¦æ›´è¯¦ç»†çš„ä¸Šä¸‹æ–‡ã€‚è‹¥éœ€ç»§ç»­æ‹†åˆ†ï¼ˆå¦‚â€œåˆ é™¤å­—ç¬¦â€â€œæ’å…¥å­—ç¬¦â€ï¼‰ï¼Œå¯åœ¨ç°æœ‰é€»è¾‘åŸºç¡€ä¸Šå¢åŠ æ–°çš„ç¼–ç æˆ–æ‰©å±• `additional_data`ã€‚

---

## ğŸ”§ éœ€è¦æ‰©å±•çš„æ•°æ®é‡‡é›†ç‚¹

### 1. ä»£ç ç¼–è¾‘å™¨è¡Œä¸ºï¼ˆéœ€è¦ä¿®æ”¹ `integrations/sqlite_integration.py`ï¼‰

#### ä»£ç è¿è¡Œä½ç½®è®°å½•
åœ¨ `integrate_code_executor` ä¸­ï¼Œéœ€è¦è®°å½•ï¼š
- è¿è¡Œæ—¶é—´ç‚¹
- ä»£ç ä½ç½®ï¼ˆèµ·å§‹è¡Œ-ç»“æŸè¡Œï¼‰
- æ‰§è¡Œç»“æœ

```python
def integrate_code_executor(code_executor):
    # ä¿å­˜åŸå§‹çš„execute_codeæ–¹æ³•
    original_execute_code = code_executor.execute_code
    
    def tracked_execute_code(code):
        # è·å–ä»£ç ä½ç½®
        if hasattr(main_app, 'code_editor'):
            code_content = main_app.code_editor.text_area.get("1.0", "end-1c")
            start_line = 1
            end_line = len(code_content.split('\n'))
            # è·å–é€‰ä¸­çš„ä»£ç èŒƒå›´
            try:
                sel_start = main_app.code_editor.text_area.index("sel.first")
                sel_end = main_app.code_editor.text_area.index("sel.last")
                start_line = int(sel_start.split('.')[0])
                end_line = int(sel_end.split('.')[0])
            except:
                pass
        
        # è®°å½•ä»£ç è¿è¡Œ
        sqlite_integration.log_code_operation(
            'run',
            code=code,
            additional_data={
                'start_line': start_line,
                'end_line': end_line,
                'code_range': f"{start_line}-{end_line}"
            }
        )
        
        return original_execute_code(code)
    
    code_executor.execute_code = tracked_execute_code
```

#### è°ƒè¯•æ–­ç‚¹ä½ç½®è®°å½•
åœ¨ `integrate_code_editor` ä¸­ï¼Œå·²ç»è®°å½•äº†æ–­ç‚¹è®¾ç½®ï¼Œéœ€è¦å¢å¼ºï¼š
- è®°å½•æ–­ç‚¹è¡Œå·
- è®°å½•è°ƒè¯•æ­¥éª¤ï¼ˆstep over, step into, step outï¼‰
- è®°å½•å˜é‡æŸ¥çœ‹

#### å¤åˆ¶ç²˜è´´ä½ç½®è®°å½•
éœ€è¦æ·»åŠ å¤åˆ¶ç²˜è´´äº‹ä»¶ç›‘å¬ï¼š
```python
def integrate_code_editor(code_editor):
    # ... ç°æœ‰ä»£ç  ...
    
    # é›†æˆå¤åˆ¶ç²˜è´´
    def on_copy(event=None):
        try:
            selected = code_editor.text_area.get("sel.first", "sel.last")
            if selected:
                start_line = int(code_editor.text_area.index("sel.first").split('.')[0])
                end_line = int(code_editor.text_area.index("sel.last").split('.')[0])
                sqlite_integration.log_behavior('CC', additional_data={
                    'source': 'editor',
                    'start_line': start_line,
                    'end_line': end_line,
                    'content_length': len(selected)
                })
        except:
            pass
    
    def on_paste(event=None):
        try:
            cursor_pos = code_editor.text_area.index("insert")
            line_num = int(cursor_pos.split('.')[0])
            sqlite_integration.log_behavior('PC', additional_data={
                'target': 'editor',
                'line_number': line_num,
                'source': 'clipboard'  # æˆ– 'ai' å¦‚æœä»AIå¤åˆ¶
            })
        except:
            pass
    
    code_editor.text_area.bind('<Control-c>', on_copy)
    code_editor.text_area.bind('<Control-v>', on_paste)
```

#### ä»£ç æŸ¥çœ‹ä½ç½®è®°å½•
éœ€è¦æ·»åŠ é¼ æ ‡ç§»åŠ¨äº‹ä»¶ç›‘å¬ï¼š
```python
def integrate_code_editor(code_editor):
    # ... ç°æœ‰ä»£ç  ...
    
    # è®°å½•ä»£ç æŸ¥çœ‹
    last_view_line = None
    view_start_time = None
    
    def on_mouse_motion(event):
        nonlocal last_view_line, view_start_time
        try:
            index = code_editor.text_area.index(f"@{event.x},{event.y}")
            line_num = int(index.split('.')[0])
            
            if line_num != last_view_line:
                # è®°å½•ä¸Šä¸€ä¸ªä½ç½®çš„æŸ¥çœ‹æ—¶é—´
                if last_view_line and view_start_time:
                    duration = time.time() - view_start_time
                    if duration > 1:  # åªè®°å½•è¶…è¿‡1ç§’çš„æŸ¥çœ‹
                        sqlite_integration.log_behavior('VC', duration=duration, additional_data={
                            'line_number': last_view_line
                        })
                
                last_view_line = line_num
                view_start_time = time.time()
        except:
            pass
    
    code_editor.text_area.bind('<Motion>', on_mouse_motion)
```

---

### 2. AIåŠ©æ‰‹è¡Œä¸ºï¼ˆéœ€è¦ä¿®æ”¹ `integrations/sqlite_integration.py`ï¼‰

#### AIäº¤äº’æ—¶é—´è®°å½•
åœ¨ `integrate_ai_assistant` ä¸­ï¼Œéœ€è¦è®°å½•ï¼š
- è¿›å…¥èŠå¤©åŒºçš„æ—¶é—´
- ç¦»å¼€èŠå¤©åŒºçš„æ—¶é—´
- åœ¨èŠå¤©åŒºçš„æ€»æ—¶é—´

```python
def integrate_ai_assistant(ai_assistant):
    # ... ç°æœ‰ä»£ç  ...
    
    # è®°å½•è¿›å…¥/ç¦»å¼€èŠå¤©åŒº
    chat_enter_time = None
    
    def on_chat_focus_in(event=None):
        nonlocal chat_enter_time
        chat_enter_time = time.time()
        sqlite_integration.log_behavior('AC', additional_data={
            'action': 'enter',
            'timestamp': datetime.now().isoformat()
        })
    
    def on_chat_focus_out(event=None):
        nonlocal chat_enter_time
        if chat_enter_time:
            duration = time.time() - chat_enter_time
            sqlite_integration.log_behavior('AC', duration=duration, additional_data={
                'action': 'leave',
                'timestamp': datetime.now().isoformat()
            })
            chat_enter_time = None
    
    ai_assistant.conversation_text.bind('<FocusIn>', on_chat_focus_in)
    ai_assistant.conversation_text.bind('<FocusOut>', on_chat_focus_out)
    ai_assistant.input_text.bind('<FocusIn>', on_chat_focus_in)
    ai_assistant.input_text.bind('<FocusOut>', on_chat_focus_out)
```

#### å¤åˆ¶AIä»£ç è®°å½•
éœ€è¦æ·»åŠ AIåŠ©æ‰‹åŒºåŸŸçš„å¤åˆ¶äº‹ä»¶ç›‘å¬ï¼š
```python
def integrate_ai_assistant(ai_assistant):
    # ... ç°æœ‰ä»£ç  ...
    
    def on_ai_copy(event=None):
        try:
            selected = ai_assistant.conversation_text.get("sel.first", "sel.last")
            if selected:
                sqlite_integration.log_behavior('CAC', additional_data={
                    'source': 'ai',
                    'content_length': len(selected),
                    'content_preview': selected[:50]
                })
        except:
            pass
    
    ai_assistant.conversation_text.bind('<Control-c>', on_ai_copy)
```

#### æŸ¥çœ‹AIå›å¤æ—¶é—´è®°å½•
éœ€è¦è®°å½•ç”¨æˆ·æŸ¥çœ‹AIå›å¤çš„æ—¶é—´ï¼š
```python
def integrate_ai_assistant(ai_assistant):
    # ... ç°æœ‰ä»£ç  ...
    
    # ä¿å­˜åŸå§‹çš„add_assistant_messageæ–¹æ³•
    original_add_assistant_message = ai_assistant.add_assistant_message
    
    def tracked_add_assistant_message(message):
        # è°ƒç”¨åŸå§‹æ–¹æ³•
        result = original_add_assistant_message(message)
        
        # è®°å½•AIå›å¤
        sqlite_integration.log_ai_interaction(
            'ask_question',
            response=message,
            additional_data={
                'response_length': len(message),
                'view_timestamp': datetime.now().isoformat()
            }
        )
        
        return result
    
    ai_assistant.add_assistant_message = tracked_add_assistant_message
```

---

### 3. æ§åˆ¶å°è¡Œä¸ºï¼ˆéœ€è¦ä¿®æ”¹ `integrations/sqlite_integration.py`ï¼‰

#### é”™è¯¯æŸ¥çœ‹è®°å½•
åœ¨ `integrate_console` ä¸­ï¼Œå·²ç»è®°å½•äº†é”™è¯¯æŸ¥çœ‹ï¼Œéœ€è¦å¢å¼ºï¼š
- è®°å½•é”™è¯¯è¡Œå·
- è®°å½•é”™è¯¯ç±»å‹
- è®°å½•æŸ¥çœ‹æ—¶é—´

```python
def integrate_console(console):
    # ... ç°æœ‰ä»£ç  ...
    
    def tracked_append_output(text, tag="output"):
        # è®°å½•é”™è¯¯æŸ¥çœ‹
        if "é”™è¯¯" in text or "Error" in text:
            # æå–é”™è¯¯è¡Œå·
            import re
            error_line = None
            match = re.search(r'line (\d+)', text)
            if match:
                error_line = int(match.group(1))
            
            sqlite_integration.log_behavior('VE', additional_data={
                'error_type': tag,
                'error_line': error_line,
                'error_message': text[:200],
                'view_timestamp': datetime.now().isoformat()
            })
        
        return original_append_output(text, tag)
```

---

## ğŸ“‹ å®æ–½æ­¥éª¤

### æ­¥éª¤1ï¼šæ‰©å±•ä»£ç ç¼–è¾‘å™¨æ•°æ®é‡‡é›†
1. ä¿®æ”¹ `integrate_code_editor` å‡½æ•°
2. æ·»åŠ å¤åˆ¶ç²˜è´´äº‹ä»¶ç›‘å¬
3. æ·»åŠ é¼ æ ‡ç§»åŠ¨äº‹ä»¶ç›‘å¬ï¼ˆä»£ç æŸ¥çœ‹ï¼‰
4. å¢å¼ºä»£ç è¿è¡Œä½ç½®è®°å½•

### æ­¥éª¤2ï¼šæ‰©å±•AIåŠ©æ‰‹æ•°æ®é‡‡é›†
1. ä¿®æ”¹ `integrate_ai_assistant` å‡½æ•°
2. æ·»åŠ è¿›å…¥/ç¦»å¼€èŠå¤©åŒºäº‹ä»¶ç›‘å¬
3. æ·»åŠ å¤åˆ¶AIä»£ç äº‹ä»¶ç›‘å¬
4. å¢å¼ºAIå›å¤æŸ¥çœ‹æ—¶é—´è®°å½•

### æ­¥éª¤3ï¼šæ‰©å±•æ§åˆ¶å°æ•°æ®é‡‡é›†
1. ä¿®æ”¹ `integrate_console` å‡½æ•°
2. å¢å¼ºé”™è¯¯æŸ¥çœ‹è®°å½•
3. æ·»åŠ è¾“å‡ºæŸ¥çœ‹è®°å½•

### æ­¥éª¤4ï¼šæµ‹è¯•éªŒè¯
1. è¿è¡Œåº”ç”¨ï¼Œæ‰§è¡Œå„ç§æ“ä½œ
2. æŸ¥çœ‹æ•°æ®åº“è®°å½•
3. éªŒè¯æ‰€æœ‰æ•°æ®ç‚¹éƒ½æ­£ç¡®è®°å½•

---

## ğŸ¯ ä¼˜å…ˆçº§

### é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³å®æ–½ï¼‰
1. âœ… å­¦ç”ŸIDè¾“å…¥åŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰
2. âœ… ä¿®å¤ user_id ä¼ é€’ï¼ˆå·²å®Œæˆï¼‰
3. â³ ä»£ç è¿è¡Œä½ç½®è®°å½•
4. â³ è°ƒè¯•æ–­ç‚¹ä½ç½®è®°å½•
5. â³ AIäº¤äº’æ—¶é—´è®°å½•

### ä¸­ä¼˜å…ˆçº§ï¼ˆé‡è¦ï¼‰
1. â³ å¤åˆ¶ç²˜è´´ä½ç½®è®°å½•
2. â³ ä»£ç æŸ¥çœ‹ä½ç½®è®°å½•
3. â³ é”™è¯¯æŸ¥çœ‹è®°å½•

### ä½ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰
1. â³ é¼ æ ‡æ‚¬åœä½ç½®è®°å½•
2. â³ èœå•ä½¿ç”¨è®°å½•

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ€§èƒ½å½±å“**ï¼šæ•°æ®é‡‡é›†æ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šå½±å“åº”ç”¨æ€§èƒ½
2. **æ•°æ®é‡**ï¼šè®°å½•è¯¦ç»†æ•°æ®ä¼šå¢åŠ æ•°æ®åº“å¤§å°ï¼Œéœ€è¦å®šæœŸæ¸…ç†
3. **éšç§ä¿æŠ¤**ï¼šå­¦ç”ŸIDåªç”¨äºæ•°æ®ç»Ÿè®¡ï¼Œä¸æ¶‰åŠæ•æ„Ÿä¿¡æ¯
4. **æ•°æ®æ ¼å¼**ï¼šä½¿ç”¨JSONæ ¼å¼å­˜å‚¨é¢å¤–æ•°æ®ï¼Œä¾¿äºæ‰©å±•

---

## ğŸ”„ æœåŠ¡å™¨ç«¯æ˜¯å¦éœ€è¦ä¿®æ”¹ï¼Ÿ

**ä¸éœ€è¦ä¿®æ”¹æœåŠ¡å™¨ç«¯ä»£ç ï¼**

åŸå› ï¼š
1. æœåŠ¡å™¨ç«¯çš„ `backend/app.py` åªæ˜¯æ¥æ”¶æ•°æ®ï¼Œä¸å…³å¿ƒæ•°æ®çš„å…·ä½“å†…å®¹
2. æ‰€æœ‰æ•°æ®é‡‡é›†é€»è¾‘éƒ½åœ¨æ¡Œé¢åº”ç”¨ç«¯ï¼ˆæœ¬åœ°ï¼‰
3. æ•°æ®é€šè¿‡ `additional_data` å­—æ®µä¼ é€’ï¼ŒæœåŠ¡å™¨ç«¯ä¼šè‡ªåŠ¨å­˜å‚¨
4. æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒæœåŠ¡å™¨ç«¯åªéœ€è¦è¯»å– `additional_data` JSONå­—æ®µå³å¯

**åªéœ€è¦ä¿®æ”¹æ¡Œé¢åº”ç”¨ç«¯ä»£ç ï¼**

