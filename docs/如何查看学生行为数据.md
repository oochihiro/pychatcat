# å¦‚ä½•æŸ¥çœ‹å­¦ç”Ÿè¡Œä¸ºæ•°æ®

> å¦‚æœä½ åªæƒ³å¿«é€ŸçŸ¥é“â€œæœ€è¿‘æœ‰æ²¡æœ‰äººä½¿ç”¨â€å’Œâ€œå…·ä½“åšäº†ä»€ä¹ˆâ€ï¼Œè¯·ç›´æ¥è·³åˆ°ä¸‹é¢çš„â€œğŸš€ å¿«é€ŸæŸ¥çœ‹æµç¨‹â€è¡¨æ ¼ã€‚

## ğŸš€ å¿«é€ŸæŸ¥çœ‹æµç¨‹

| ç›®æ ‡ | æ¨èè„šæœ¬ | æœåŠ¡å™¨å‘½ä»¤ | æœ¬åœ° Windows å‘½ä»¤ | è¾“å‡ºå†…å®¹ |
|------|----------|------------|-------------------|----------|
| ç²—ç•¥ç»Ÿè®¡ï¼ˆå¤šå°‘ç”¨æˆ·ã€æœ€è¿‘ 10 æ¡è¡Œä¸ºã€ä»£ç /AI/é”™è¯¯æ±‡æ€»ï¼‰ | `backend/view_data.py` | `cd /www/wwwroot/pychatcat.cloud/python-learning-assistant && python3 backend/view_data.py` | `cd /d E:\cursor_web && python backend/view_data.py` | æ±‡æ€»ä¿¡æ¯ + æœ€è¿‘ 10 æ¡è¡Œä¸ºï¼ˆå«å®Œæ•´å­¦å·ä¸è®¾å¤‡ IDï¼‰ |
| è¯¦ç»†æ˜ç»†ï¼ˆé€æ¡è¡Œä¸º/ä»£ç æ“ä½œ/AI äº¤äº’ï¼‰ | `view_interactions_detail.py` | `cd /www/wwwroot/pychatcat.cloud/python-learning-assistant && python3 view_interactions_detail.py 3`ï¼ˆæœ€è¿‘ 3 å¤©ï¼Œå¯æ”¹æ•°å­—ï¼‰ | `cd /d E:\cursor_web && python view_interactions_detail.py 3` | æŒ‰æ—¶é—´å€’åºåˆ—å‡ºæ¯æ¡è¡Œä¸ºï¼Œå«è¡Œå·ã€èŒƒå›´ã€é—®é¢˜/å›ç­”é¢„è§ˆ |
| è‡ªå®šä¹‰ SQL / å¯¼å‡º | `sqlite3` å®¢æˆ·ç«¯ | `cd /www/wwwroot/pychatcat.cloud/python-learning-assistant && sqlite3 backend/data/learning_analytics.db` | `cd /d E:\cursor_web && sqlite3 data/learning_analytics.db` | å¯æ‰§è¡Œä»»æ„ SQLã€å¯¼å‡º CSV |

### ä½¿ç”¨å»ºè®®
- **å…ˆè·‘ `backend/view_data.py`**ï¼šåˆ¤æ–­æ˜¯å¦æœ‰æœ€æ–°æ•°æ®ï¼ˆä¾‹å¦‚ 11 æœˆ 18 æ—¥ï¼‰ï¼Œç¡®è®¤æ•°æ®åº“è·¯å¾„æ­£ç¡®ã€‚
- **å†è·‘ `view_interactions_detail.py`**ï¼šæŸ¥çœ‹éœ€è¦çš„æ—¶é—´èŒƒå›´å†…çš„æ˜ç»†ã€‚
- **æœ€åå†ç”¨ `sqlite3`**ï¼šå½“éœ€è¦è‡ªå®šä¹‰æŸ¥è¯¢æˆ–å¯¼å‡ºæ—¶å†ä½¿ç”¨ã€‚

---

## ğŸ§­ è·¯å¾„ä¸æ–‡ä»¶

| åœºæ™¯ | æ•°æ®åº“è·¯å¾„ |
|------|-----------|
| æœåŠ¡å™¨ï¼ˆå®å¡”ï¼‰ | `/www/wwwroot/pychatcat.cloud/python-learning-assistant/backend/data/learning_analytics.db` |
| æœ¬åœ°å¼€å‘æœº | `E:\cursor_web\data\learning_analytics.db` |

> é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªè„šæœ¬éƒ½ä¼šè‡ªåŠ¨ä¼˜å…ˆè¯»å–â€œé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `data/learning_analytics.db`â€ï¼Œå¦‚æœè¦å¼ºåˆ¶æŒ‡å®šæŸä¸ªæ–‡ä»¶ï¼Œå¯ä»¥åœ¨å‘½ä»¤æœ€åè¿½åŠ è·¯å¾„ï¼š`python3 view_interactions_detail.py 3 backend/data/learning_analytics.db`

---

## ğŸ“‘ ç²—ç•¥æŸ¥çœ‹ï¼šbackend/view_data.py

### æœåŠ¡å™¨ï¼ˆå®å¡”ç»ˆç«¯ï¼‰
```bash
cd /www/wwwroot/pychatcat.cloud/python-learning-assistant
python3 backend/view_data.py
```
è¾“å‡ºåŒ…å«ï¼š
- æ€»ä¼šè¯æ•° / å”¯ä¸€ç”¨æˆ·æ•°
- æœ€è¿‘ 10 æ¡å­¦ä¹ è¡Œä¸ºï¼ˆå«å®Œæ•´å­¦å· + è®¾å¤‡ IDï¼‰
- ä»£ç æ“ä½œç»Ÿè®¡ã€AI äº¤äº’ç»Ÿè®¡ã€é”™è¯¯ç»Ÿè®¡
- æœ€è¿‘ä¸€æ¬¡æ´»åŠ¨æ—¶é—´

### æœ¬åœ°ç”µè„‘ï¼ˆPowerShellï¼‰
```powershell
cd /d E:\cursor_web
python backend/view_data.py
```

### å¸¸è§é—®é¢˜
- **çœ‹åˆ°çš„æ—¥æœŸå¤ªæ—§**ï¼šè¯´æ˜æ•°æ®åº“æ–‡ä»¶ä¸æ˜¯æœ€æ–°çš„ã€‚è¯·ç¡®è®¤è¿è¡Œè„šæœ¬æ—¶ä½¿ç”¨çš„è·¯å¾„ï¼ˆå‘½ä»¤å¼€å¤´ä¼šæ‰“å° `ğŸ“Š æ­£åœ¨æŸ¥çœ‹æ•°æ®åº“: ...`ï¼‰ï¼Œå¿…è¦æ—¶æŠŠæœ€æ–°çš„ `.db` æ–‡ä»¶å¤åˆ¶è¿‡å»ã€‚

---

## ğŸ“ƒ è¡Œä¸ºæ˜ç»†ï¼šview_interactions_detail.py

### åŸºæœ¬ç”¨æ³•
```bash
python3 view_interactions_detail.py            # æœ€è¿‘ 1 å¤©
python3 view_interactions_detail.py 3          # æœ€è¿‘ 3 å¤©
python3 view_interactions_detail.py 7 data/learning_analytics.db
```
- ç¬¬ 1 ä¸ªå‚æ•°ï¼šå¤©æ•°ï¼ˆåŒ…å«ä»Šå¤©ï¼‰ï¼Œå¿…é¡» â‰¥1ã€‚
- ç¬¬ 2 ä¸ªå‚æ•°ï¼šå¯é€‰çš„æ•°æ®åº“è·¯å¾„ã€‚
- è¾“å‡ºåˆ† 3 ä¸ªéƒ¨åˆ†ï¼šå­¦ä¹ è¡Œä¸ºã€ä»£ç æ“ä½œã€AI äº¤äº’ï¼Œå„æ˜¾ç¤ºæœ€å¤š 50 æ¡ã€‚

### æœåŠ¡å™¨ç¤ºä¾‹
```bash
cd /www/wwwroot/pychatcat.cloud/python-learning-assistant
python3 view_interactions_detail.py 3
```

### æœ¬åœ°ç¤ºä¾‹
```powershell
cd /d E:\cursor_web
python view_interactions_detail.py 3
```

### è¯»å–æŒ‡å®šæ•°æ®åº“
å¦‚æœæœåŠ¡å™¨ä¸Šå­˜åœ¨å¤šä¸ªæ•°æ®åº“å‰¯æœ¬ï¼ˆä¾‹å¦‚ `data/` å’Œ `backend/data/`ï¼‰ï¼Œå»ºè®®æ˜ç¡®æŒ‡å®šï¼š
```bash
python3 view_interactions_detail.py 3 backend/data/learning_analytics.db
```

### è¾“å‡ºå­—æ®µè¯´æ˜
- `ç”¨æˆ·`ï¼šå®Œæ•´å­¦å·ï¼ˆå¦‚ `1023162811`ï¼‰ï¼Œä¸ä¼šå†è¢«æˆªæ–­ã€‚
- `è®¾å¤‡`ï¼š`user_sessions.platform` ä¸­å­˜çš„è®¾å¤‡ IDï¼ˆå¦‚ `LAPTOP-XXXX`ï¼‰ã€‚
- `è¡Œä¸º`ï¼šè¡Œä¸ºç¼–ç  + ä¸­æ–‡åç§°ï¼Œå¯ç»“åˆâ€œè¡Œä¸ºç¼–ç è¡¨â€ç†è§£å«ä¹‰ã€‚
- `è¡Œ/èŒƒå›´/åŒºé—´`ï¼šé’ˆå¯¹ä»£ç æ“ä½œæˆ–é€‰åŒºè¡Œä¸ºï¼Œä¼šå†™æ˜è¡Œå·èŒƒå›´ã€‚
- `é—®é¢˜é¢„è§ˆ/AI å›å¤é¢„è§ˆ`ï¼šAI åŒºåŸŸä¸­æœ€æ–°çš„é—®é¢˜å’Œç­”æ¡ˆæ‘˜è¦ã€‚

---

## ğŸ› ï¸ SQLite å®¢æˆ·ç«¯ï¼ˆé«˜çº§ç”¨æ³•ï¼‰

### æœåŠ¡å™¨
```bash
cd /www/wwwroot/pychatcat.cloud/python-learning-assistant
sqlite3 backend/data/learning_analytics.db
```
è¿›å…¥åå¯ä»¥æ‰§è¡Œï¼š
```sql
.mode column
.headers on
SELECT timestamp, user_id, behavior_code
FROM learning_behaviors
ORDER BY timestamp DESC
LIMIT 20;
```
é€€å‡ºä½¿ç”¨ `.quit`ã€‚

### æœ¬åœ°
```powershell
cd /d E:\cursor_web
sqlite3 data/learning_analytics.db
```

### å¸¸è§ SQL ç¤ºä¾‹
- æœ€è¿‘ 5 æ¡ AI äº¤äº’ï¼š
  ```sql
  SELECT timestamp, user_id, interaction_type, question_length
  FROM ai_interactions
  ORDER BY timestamp DESC
  LIMIT 5;
  ```
- æŒ‰å­¦å·ç­›é€‰ï¼š
  ```sql
  SELECT timestamp, behavior_code, additional_data
  FROM learning_behaviors
  WHERE user_id = '1023162811'
  ORDER BY timestamp DESC;
  ```

---

## ğŸ“‹ é‡è¦è¯´æ˜

**æ‚¨çœ‹åˆ°çš„ `backend.log` æ˜¯ Nginx è®¿é—®æ—¥å¿—ï¼Œä¸æ˜¯å­¦ç”Ÿè¡Œä¸ºæ•°æ®ï¼**

è¿™äº›æ—¥å¿—è®°å½•çš„æ˜¯ï¼š
- âœ… HTTP è¯·æ±‚ï¼ˆæµè§ˆå™¨è®¿é—®ã€API è°ƒç”¨ï¼‰
- âœ… æ‰«æå’Œæ”»å‡»å°è¯•
- âŒ **ä¸åŒ…å«**å­¦ç”Ÿå…·ä½“çš„æ“ä½œå†…å®¹ï¼ˆä»£ç ç¼–è¾‘ã€æé—®ç­‰ï¼‰

---

## ğŸ” è®¿é—®æ—¥å¿—è§£è¯»

### æ—¥å¿—æ ¼å¼
```
IPåœ°å€ - - [æ—¶é—´] "è¯·æ±‚æ–¹æ³• è·¯å¾„ HTTPç‰ˆæœ¬" çŠ¶æ€ç  å“åº”å¤§å° "æ¥æº" "æµè§ˆå™¨ä¿¡æ¯"
```

### å¸¸è§çŠ¶æ€ç å«ä¹‰

| çŠ¶æ€ç  | å«ä¹‰ | è¯´æ˜ |
|--------|------|------|
| `200` | æˆåŠŸ | è¯·æ±‚æˆåŠŸå¤„ç† |
| `404` | æœªæ‰¾åˆ° | è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ |
| `500` | æœåŠ¡å™¨é”™è¯¯ | Flask åç«¯å‡ºé”™ |
| `502` | ç½‘å…³é”™è¯¯ | Nginx æ— æ³•è¿æ¥åˆ° Flask åç«¯ |

### æ—¥å¿—ç¤ºä¾‹åˆ†æ

```
223.112.31.7 - - [11/Nov/2025:21:20:37 +0800] "GET /api/health HTTP/1.1" 200 102
```
- **IP**: `223.112.31.7` - è®¿é—®è€… IP
- **æ—¶é—´**: `11/Nov/2025:21:20:37 +0800`
- **è¯·æ±‚**: `GET /api/health` - å¥åº·æ£€æŸ¥æ¥å£
- **çŠ¶æ€**: `200` - æˆåŠŸ
- **å¤§å°**: `102` å­—èŠ‚

```
115.248.8.65 - - [11/Nov/2025:08:58:45 +0800] "POST /hello.world?%ADd+allow_url_include%3d1..."
```
- è¿™æ˜¯**æ”»å‡»å°è¯•**ï¼ˆPHP æ¼æ´æ‰«æï¼‰ï¼Œä¸æ˜¯æ­£å¸¸è®¿é—®

---

## ğŸ“Š çœŸæ­£çš„å­¦ç”Ÿè¡Œä¸ºæ•°æ®åœ¨å“ªé‡Œï¼Ÿ

### æ•°æ®åº“ä½ç½®
```
/www/wwwroot/pychatcat.cloud/python-learning-assistant/backend/data/learning_analytics.db
```

### æ•°æ®è¡¨ç»“æ„

1. **`user_sessions`** - ç”¨æˆ·ä¼šè¯
   - `session_id`: ä¼šè¯ID
   - `user_id`: ç”¨æˆ·IDï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
   - `start_time`: å¼€å§‹æ—¶é—´
   - `end_time`: ç»“æŸæ—¶é—´
   - `total_activities`: æ€»æ´»åŠ¨æ•°

2. **`learning_behaviors`** - å­¦ä¹ è¡Œä¸º
   - `behavior_code`: è¡Œä¸ºç¼–ç ï¼ˆå¦‚ `CP`ã€`DP`ã€`ANQ`ï¼‰
   - `activity_name`: æ´»åŠ¨åç§°
   - `timestamp`: æ—¶é—´æˆ³
   - `duration`: æŒç»­æ—¶é—´

3. **`code_operations`** - ä»£ç æ“ä½œ
   - `operation_type`: æ“ä½œç±»å‹ï¼ˆè¿è¡Œã€è°ƒè¯•ç­‰ï¼‰
   - `code_length`: ä»£ç é•¿åº¦
   - `success`: æ˜¯å¦æˆåŠŸ
   - `execution_time`: æ‰§è¡Œæ—¶é—´

4. **`ai_interactions`** - AI äº¤äº’
   - `interaction_type`: äº¤äº’ç±»å‹
   - `question_length`: é—®é¢˜é•¿åº¦
   - `response_time`: å“åº”æ—¶é—´
   - `suggestion_used`: æ˜¯å¦ä½¿ç”¨å»ºè®®

5. **`error_analysis`** - é”™è¯¯åˆ†æ
   - `error_type`: é”™è¯¯ç±»å‹
   - `error_message`: é”™è¯¯ä¿¡æ¯
   - `fix_attempts`: ä¿®å¤å°è¯•æ¬¡æ•°
   - `fix_success`: æ˜¯å¦ä¿®å¤æˆåŠŸ

---

## ğŸ”§ æŸ¥çœ‹æ•°æ®çš„æ–¹æ³•

### æ–¹æ³• 1ï¼šé€šè¿‡ API æŸ¥çœ‹ï¼ˆæ¨èï¼‰

#### 1.1 æŸ¥çœ‹æ‰€æœ‰ä¼šè¯æ¦‚è§ˆ
```bash
curl http://pychatcat.cloud/api/analytics/overview
```

#### 1.2 æŸ¥çœ‹å•ä¸ªä¼šè¯è¯¦æƒ…
```bash
curl http://pychatcat.cloud/api/sessions/<session_id>/stats
```

#### 1.3 åœ¨æµè§ˆå™¨ä¸­è®¿é—®
- æ‰“å¼€ï¼š`http://pychatcat.cloud/api/analytics/overview`
- æŸ¥çœ‹ JSON æ ¼å¼çš„ç»Ÿè®¡æ•°æ®

### æ–¹æ³• 2ï¼šåœ¨å®å¡”é¢æ¿ä¸­ä¸‹è½½æ•°æ®åº“æ–‡ä»¶

**ä¸ºä»€ä¹ˆå®å¡”é¢æ¿æ— æ³•ç›´æ¥æŸ¥çœ‹ `.db` æ–‡ä»¶ï¼Ÿ**
- `.db` æ–‡ä»¶æ˜¯ SQLite æ•°æ®åº“çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œä¸æ˜¯æ–‡æœ¬æ–‡ä»¶
- å®å¡”é¢æ¿çš„æ–‡ä»¶æŸ¥çœ‹å™¨åªèƒ½æŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶ï¼ˆå¦‚ `.txt`ã€`.log`ã€`.py` ç­‰ï¼‰
- éœ€è¦ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä½¿ç”¨ä¸“é—¨çš„ SQLite å·¥å…·æ‰“å¼€

**ä¸‹è½½æ­¥éª¤ï¼š**
1. **ç™»å½•å®å¡”é¢æ¿**
2. **æ–‡ä»¶ç®¡ç†å™¨** â†’ è¿›å…¥ `/www/wwwroot/pychatcat.cloud/python-learning-assistant/backend/data/`
3. **æ‰¾åˆ°** `learning_analytics.db` æ–‡ä»¶
4. **é€‰ä¸­æ–‡ä»¶** â†’ ç‚¹å‡»é¡¶éƒ¨å·¥å…·æ çš„ **"ä¸‹è½½"** æŒ‰é’®ï¼ˆæˆ–å³é”® â†’ ä¸‹è½½ï¼‰
5. **ä¸‹è½½åˆ°æœ¬åœ°å**ï¼Œä½¿ç”¨ SQLite å·¥å…·æ‰“å¼€ï¼š
   - **Windows**: [DB Browser for SQLite](https://sqlitebrowser.org/)ï¼ˆå…è´¹ï¼‰
   - **Mac**: DB Browser for SQLite æˆ– TablePlus
   - **åœ¨çº¿å·¥å…·**: [SQLite Viewer](https://sqliteviewer.app/)ï¼ˆæ— éœ€å®‰è£…ï¼‰

### æ–¹æ³• 3ï¼šé€šè¿‡å®å¡”ç»ˆç«¯æŸ¥çœ‹ï¼ˆæ¨èï¼Œæ— éœ€ä¸‹è½½ï¼‰

**ä¼˜ç‚¹**ï¼šç›´æ¥åœ¨æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹ï¼Œæ— éœ€ä¸‹è½½ï¼Œé€Ÿåº¦å¿«

**æ­¥éª¤ï¼š**
1. **ç™»å½•å®å¡”é¢æ¿**
2. **ç»ˆç«¯** â†’ ç‚¹å‡»"æ‰“å¼€ç»ˆç«¯"æˆ–"SSHç»ˆç«¯"
3. **æ‰§è¡Œä»¥ä¸‹å‘½ä»¤**ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /www/wwwroot/pychatcat.cloud/python-learning-assistant/backend

# æ£€æŸ¥ sqlite3 æ˜¯å¦å·²å®‰è£…
sqlite3 --version

# å¦‚æœæœªå®‰è£…ï¼Œå…ˆå®‰è£…ï¼ˆCentOS/OpenCloudOSï¼‰
yum install -y sqlite3

# ä½¿ç”¨ sqlite3 å‘½ä»¤è¡Œå·¥å…·æ‰“å¼€æ•°æ®åº“
sqlite3 data/learning_analytics.db

# æŸ¥çœ‹æ‰€æœ‰è¡¨
.tables

# æŸ¥çœ‹ä¼šè¯æ•°
SELECT COUNT(*) FROM user_sessions;

# æŸ¥çœ‹æœ€è¿‘10æ¡å­¦ä¹ è¡Œä¸º
SELECT * FROM learning_behaviors ORDER BY timestamp DESC LIMIT 10;

# æŸ¥çœ‹ä»£ç æ“ä½œç»Ÿè®¡
SELECT operation_type, COUNT(*) as count, 
       SUM(CASE WHEN success = 1 THEN 1 ELSE 0 END) as success_count
FROM code_operations 
GROUP BY operation_type;

# é€€å‡º
.quit
```

### æ–¹æ³• 4ï¼šä½¿ç”¨ Python è„šæœ¬æŸ¥çœ‹

åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»º `view_data.py`ï¼š

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
import sqlite3
import json
from datetime import datetime

db_path = '/www/wwwroot/pychatcat.cloud/python-learning-assistant/backend/data/learning_analytics.db'

conn = sqlite3.connect(db_path)
cursor = conn.cursor()

# æŸ¥çœ‹ä¼šè¯æ•°
cursor.execute("SELECT COUNT(*) FROM user_sessions")
session_count = cursor.fetchone()[0]
print(f"æ€»ä¼šè¯æ•°: {session_count}")

# æŸ¥çœ‹æœ€è¿‘çš„å­¦ä¹ è¡Œä¸º
cursor.execute("""
    SELECT behavior_code, activity_name, timestamp, user_id
    FROM learning_behaviors
    ORDER BY timestamp DESC
    LIMIT 20
""")
print("\næœ€è¿‘20æ¡å­¦ä¹ è¡Œä¸º:")
for row in cursor.fetchall():
    print(f"  {row[0]} - {row[1]} - {row[2]} - ç”¨æˆ·: {row[3]}")

# æŸ¥çœ‹ä»£ç æ“ä½œç»Ÿè®¡
cursor.execute("""
    SELECT operation_type, COUNT(*) as count,
           SUM(CASE WHEN success = 1 THEN 1 ELSE 0 END) as success_count
    FROM code_operations
    GROUP BY operation_type
""")
print("\nä»£ç æ“ä½œç»Ÿè®¡:")
for row in cursor.fetchall():
    print(f"  {row[0]}: æ€»æ•°={row[1]}, æˆåŠŸ={row[2]}")

conn.close()
```

è¿è¡Œï¼š
```bash
cd /www/wwwroot/pychatcat.cloud/python-learning-assistant/backend
python3 view_data.py
```

---

## ğŸ“ˆ æ•°æ®åˆ†æå»ºè®®

### 1. æŸ¥çœ‹å­¦ç”Ÿæ´»è·ƒåº¦
```sql
SELECT 
    DATE(start_time) as date,
    COUNT(*) as sessions,
    COUNT(DISTINCT user_id) as unique_users
FROM user_sessions
GROUP BY DATE(start_time)
ORDER BY date DESC;
```

### 2. æŸ¥çœ‹ä»£ç è¿è¡ŒæˆåŠŸç‡
```sql
SELECT 
    operation_type,
    COUNT(*) as total,
    SUM(CASE WHEN success = 1 THEN 1 ELSE 0 END) as success,
    ROUND(100.0 * SUM(CASE WHEN success = 1 THEN 1 ELSE 0 END) / COUNT(*), 2) as success_rate
FROM code_operations
GROUP BY operation_type;
```

### 3. æŸ¥çœ‹ AI ä½¿ç”¨æƒ…å†µ
```sql
SELECT 
    interaction_type,
    COUNT(*) as count,
    AVG(response_time) as avg_response_time,
    AVG(question_length) as avg_question_length
FROM ai_interactions
GROUP BY interaction_type;
```

### 4. æŸ¥çœ‹å¸¸è§é”™è¯¯
```sql
SELECT 
    error_type,
    COUNT(*) as count,
    AVG(fix_attempts) as avg_fix_attempts,
    SUM(CASE WHEN fix_success = 1 THEN 1 ELSE 0 END) as fixed_count
FROM error_analysis
GROUP BY error_type
ORDER BY count DESC;
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è®¿é—®æ—¥å¿— â‰  è¡Œä¸ºæ•°æ®**
   - `backend.log` åªè®°å½• HTTP è¯·æ±‚
   - çœŸæ­£çš„è¡Œä¸ºæ•°æ®åœ¨ SQLite æ•°æ®åº“ä¸­

2. **æ•°æ®å­˜å‚¨ä½ç½®**
   - æ•°æ®åº“æ–‡ä»¶ï¼š`backend/data/learning_analytics.db`
   - æ—¥å¿—æ–‡ä»¶ï¼š`logs/` ç›®å½•ï¼ˆå¦‚æœé…ç½®äº†æ—¥å¿—ï¼‰

3. **æ•°æ®å®‰å…¨**
   - æ•°æ®åº“åŒ…å«å­¦ç”Ÿè¡Œä¸ºæ•°æ®ï¼Œè¯·å¦¥å–„ä¿ç®¡
   - å»ºè®®å®šæœŸå¤‡ä»½æ•°æ®åº“æ–‡ä»¶

4. **æ€§èƒ½è€ƒè™‘**
   - å¦‚æœæ•°æ®é‡å¤§ï¼Œå»ºè®®ä½¿ç”¨ API æŸ¥è¯¢è€Œä¸æ˜¯ç›´æ¥æŸ¥è¯¢æ•°æ®åº“
   - å¯ä»¥å®šæœŸå¯¼å‡ºæ•°æ®è¿›è¡Œåˆ†æ

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—_è…¾è®¯äº‘å®å¡”.md](./éƒ¨ç½²æŒ‡å—_è…¾è®¯äº‘å®å¡”.md)
- [æ•°æ®åˆ†ææ–¹æ¡ˆ.md](../æ•°æ®åˆ†ææ–¹æ¡ˆ.md)

